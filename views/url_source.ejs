<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('./includes/head.ejs') %>

    <style type="text/css">
        body, html
        {
            margin: 0; padding: 0; height: 100%; overflow: hidden;
        }

        #content
        {
            position:absolute; left: 0; right: 0; bottom: 0; top: 0px; 
        }
    </style>

</head>
<body>


    <iframe width="100%" height="100%" frameborder="0" id="content" src="about:blank"></iframe>
    
    <script>
        const bcId = 'livesahb-url-'+"<%= id %>";
        let bc = new BroadcastChannel(bcId);
        console.log("Source broadcaster started with id " + bcId);
        const iframe = document.querySelector("#content");
        bc.onmessage = function (ev) {
            console.log(ev);
            iframe.setAttribute("src", ev.data);
        }
    </script>
</body>
</html>